

model Schedule {
    id String @id @default(uuid())
    startDateTime DateTime
    endDateTime DateTime
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    doctorSchedules DoctorSchedule[]
    appointments Appointment[]
    @@map("schedules")

}

model DoctorSchedule {

    doctorId String

    doctor Doctor @relation(fields: [doctorId], references: [id])
    scheduleId String

    schedule Schedule @relation(fields: [scheduleId], references: [id])

    isBooked Boolean @default(false)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@id([doctorId,scheduleId])  // composite key because a doctor can take one same slot for the same day. to prevent duplicated use composite
    @@map("doctor_schedules")
}